(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[498],{5286:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/database",function(){return a(3211)}])},3211:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return z}});var r=a(5893),s=a(7294),n=a(512),o=a(7851);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,o.m)((0,n.W)(t))}let i=s.forwardRef((e,t)=>{let{className:a,type:s,...n}=e;return(0,r.jsx)("input",{type:s,className:l("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...n})});i.displayName="Input";var c=a(2637),d=a(3742),u=a(8971);let p=c.fC,f=c.ZA,m=c.B4,y=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(c.xz,{ref:t,className:l("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...n,children:[s,(0,r.jsx)(c.JO,{asChild:!0,children:(0,r.jsx)(u.Z,{className:"h-4 w-4 opacity-50"})})]})});y.displayName=c.xz.displayName;let b=s.forwardRef((e,t)=>{let{className:a,children:s,position:n="popper",...o}=e;return(0,r.jsx)(c.h_,{children:(0,r.jsx)(c.VY,{ref:t,className:l("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...o,children:(0,r.jsx)(c.l_,{className:l("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s})})})});b.displayName=c.VY.displayName;let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(c.__,{ref:t,className:l("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})});h.displayName=c.__.displayName;let x=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(c.ck,{ref:t,className:l("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(c.wU,{children:(0,r.jsx)(d.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(c.eT,{children:s})]})});x.displayName=c.ck.displayName;let N=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(c.Z0,{ref:t,className:l("-mx-1 my-1 h-px bg-muted",a),...s})});N.displayName=c.Z0.displayName;let g=e=>{let{onValueChange:t,list:a}=e;return(0,r.jsxs)(p,{onValueChange:t,children:[(0,r.jsx)(y,{className:"w-[180px]",children:(0,r.jsx)(m,{placeholder:"Select a fruit"})}),(0,r.jsx)(b,{children:(0,r.jsx)(f,{className:"max-h-[25vh]",children:a.map((e,t)=>(0,r.jsx)(x,{value:e,children:e},"option-".concat(t)))})})]})};var v=a(1892);let j=v.We,k={},w=["object",...Object.keys(j)];w.forEach(e=>{"object"!=e&&(k[e]=Object.keys(j[e]))});var T=a(8426),_=a(2003);let V=(0,_.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),C=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,asChild:o=!1,...i}=e,c=o?T.g7:"button";return(0,r.jsx)(c,{className:l(V({variant:s,size:n,className:a})),ref:t,...i})});C.displayName="Button";var O=e=>{let{currentFieldKey:t,register:a,values:s,optionsData:n,subOptions:o,setValue:l,setSubstackVaue:c,addNewField:d,branch:u,isSubStack:p=!1}=e,f=p?"".concat(t,".root"):t,m=(e,a)=>{let r=s("".concat(f,"[").concat(e,"]"));if(u[r.subType])c("branch.".concat(r.subType),a);else{let s=j.string.uuid();l("".concat(t,"[").concat(e,"].subType"),s),l("branch.".concat(s),{key:r.key,root:[],isArray:!1}),c("branch.".concat(s),a)}};return(0,r.jsxs)("div",{className:"w-48 min-w-max h-full bg-primary-foreground/75 rounded p-4 overflow-y-auto overflow-x-hidden",children:[(0,r.jsx)("h2",{children:p?"Sub Object":f}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col gap-4",children:[s(f).map((e,t)=>(0,r.jsxs)("div",{className:"flex gap-4 items-center justify-start w-full",children:[(0,r.jsx)(i,{className:"w-40",type:"text",placeholder:"Object Key",...a("".concat(f,"[").concat(t,"].key"))}),(0,r.jsx)(g,{onValueChange:e=>{l("".concat(f,"[").concat(t,"].type"),e)},list:o}),"object"!=e.type?(0,r.jsx)(g,{onValueChange:e=>{l("".concat(f,"[").concat(t,"].subType"),e)},list:n[s("".concat(f,"[").concat(t,"].type"))]}):(0,r.jsx)(C,{className:"ml-auto w-8 h-8 bg-primary rounded",onClick:e=>{m(t,e)},type:"button"})]},"mainstack-".concat(t))),(0,r.jsx)(C,{type:"button",onClick:()=>d(f)})]})]})},S=a(7536),z=e=>{let{}=e,[t,a]=(0,s.useState)([]),{register:n,handleSubmit:o,watch:l,formState:{errors:i},getValues:c,setValue:d,control:u}=(0,S.cI)({defaultValues:{currentFieldKey:"root",root:[{key:"Name",type:"person",subType:"fullName"},{key:"Name",type:"person",subType:"fullName"},{key:"Name",type:"person",subType:"fullName"},{key:"Name",type:"person",subType:"fullName"},{key:"Name",type:"person",subType:"fullName"},{key:"Name",type:"person",subType:"fullName"},{key:"Name",type:"person",subType:"fullName"},{key:"Name",type:"person",subType:"fullName"},{key:"Name",type:"person",subType:"fullName"},{key:"Name",type:"person",subType:"fullName"},{key:"Name",type:"person",subType:"fullName"},{key:"Name",type:"person",subType:"fullName"},{key:"Name",type:"person",subType:"fullName"},{key:"Name",type:"person",subType:"fullName"},{key:"Name",type:"person",subType:"fullName"},{key:"Name",type:"person",subType:"fullName"},{key:"Name",type:"person",subType:"fullName"},{key:"Name",type:"person",subType:"fullName"}],isArray:!1,branch:{}}}),{fields:p,remove:f}=(0,S.Dq)({control:u,name:"root"}),m=e=>(r,s)=>{let n=t.slice(0,e+1);n[e]={key:r,refrence:s},a(n)},y=e=>{let t=[...c(e),{key:"",type:"person",subType:"fullName"}];d(e,t)};return(0,r.jsx)("div",{className:"h-full box-border w-screen flex",children:(0,r.jsxs)("form",{onSubmit:o(e=>console.log(e),e=>console.log(e)),className:"p-4 flex gap-4 max-h-[calc(100vh_-_24px)] h-[calc(100vh_-_24px)]",children:[(0,r.jsx)(O,{addNewField:y,optionsData:k,subOptions:w,values:l,register:n,currentFieldKey:l("currentFieldKey"),branch:l("branch"),setValue:d,setSubstackVaue:m(0)}),t.map((e,t)=>(0,r.jsx)(O,{isSubStack:!0,addNewField:y,optionsData:k,subOptions:w,values:l,register:n,currentFieldKey:e.key,branch:l("branch"),setValue:d,setSubstackVaue:m(t+1)},"substack-".concat(t))),(0,r.jsx)(C,{children:"Button"})]})})}}},function(e){e.O(0,[330,317,201,595,307,11,561,774,888,179],function(){return e(e.s=5286)}),_N_E=e.O()}]);